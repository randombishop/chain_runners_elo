(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a,i=n(4),s=n.n(i),r=n(30),o=n.n(r),u=n(5),p=n(6),l=n(10),c=n(8),d=n(7),y=n(72),m=n(121),b=n(48),j=n(122),h=n(41),O=n(123),v=n(119),f="runners/",g="empty.png",x=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"dna",type:"uint256"}],name:"GenerateRunner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address[]",name:"toEarlyAccessList",type:"address[]"}],name:"addToEarlyAccessList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"},{internalType:"uint256",name:"_count",type:"uint256"}],name:"allocateFounderMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"seed",type:"string"}],name:"checkHash",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_runnerZeroHash",type:"uint256"},{internalType:"uint256",name:"_runnerZeroDNA",type:"uint256"}],name:"configureRunnerZero",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"earlyAccessMintedCounts",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"earlyAccessStartTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_count",type:"uint256"}],name:"founderMint",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"getDna",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"getRemainingEarlyAccessMints",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"getRemainingFounderMints",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isEarlyAccessOpen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isOnEarlyAccessList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPublicSaleOpen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_count",type:"uint256"}],name:"mintEarlyAccess",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_count",type:"uint256"}],name:"mintPublicSale",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"seed",type:"string"}],name:"mintRunnerZero",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"publicSaleStartTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"toRemove",type:"address[]"}],name:"removeFromEarlyAccessList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renderingContractAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"setEarlyAccessTimestamp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"setPublicSaleTimestamp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_renderingContractAddress",type:"address"}],name:"setRenderingContractAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"seed",type:"uint256"}],name:"tokenURIForSeed",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],T=[{inputs:[{internalType:"address",name:"_proxyRegistryAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"address payable",name:"relayerAddress",type:"address"},{indexed:!1,internalType:"bytes",name:"functionSignature",type:"bytes"}],name:"MetaTransactionExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"ERC712_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"_hashCodes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseTokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"},{internalType:"bytes",name:"functionSignature",type:"bytes"},{internalType:"bytes32",name:"sigR",type:"bytes32"},{internalType:"bytes32",name:"sigS",type:"bytes32"},{internalType:"uint8",name:"sigV",type:"uint8"}],name:"executeMetaTransaction",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeperator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_hash",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"_recipient",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"widthdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],w=n(3),k=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).loop=void 0,a.componentDidMount=function(){var e=Object(l.a)(a);a.loop=setInterval(e.roll,1e3)},a.roll=function(){if(!a.props.data||0===a.props.data.length)return a.setState({counter:0,current:g});var e=(a.state.counter+1)%a.props.data.length;a.setState({counter:e,current:"".concat(f).concat(a.props.data[e],".png")})},a.state={counter:0,current:g},a}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.roll()}},{key:"componentWillUnmount",value:function(){this.loop&&clearInterval(this.loop)}},{key:"render",value:function(){return Object(w.jsx)("img",{src:this.state.current,width:this.props.size,height:this.props.size,alt:"-",style:{verticalAlign:"bottom"}})}}]),n}(i.Component),M=function(e){return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)(O.a,{size:"large",variant:"contained",color:"primary",onClick:e.navigate("style"),children:Object(w.jsx)("span",{className:"navbar-button",children:"Style"})}),"\xa0\xa0\xa0"]})},N=function(e){return Object(w.jsxs)(v.a,{container:!0,spacing:3,className:"navbar-grid",children:[Object(w.jsxs)(v.a,{item:!0,sm:12,lg:6,className:"navbar-box",children:[Object(w.jsx)("img",{src:"chain_runners_logo.svg",alt:"Logo",height:"60"}),Object(w.jsx)("br",{}),Object(w.jsx)("span",{className:"h1a",children:"ELO"}),"\xa0",Object(w.jsx)("span",{className:"h1a",children:"R"}),Object(w.jsx)("span",{className:"h1b",children:"ating"}),"\xa0",Object(w.jsx)("span",{className:"h1a",children:"S"}),Object(w.jsx)("span",{className:"h1b",children:"ystem"})]}),Object(w.jsxs)(v.a,{item:!0,sm:12,lg:6,className:"navbar-box",children:[Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)(O.a,{size:"large",variant:"contained",color:"primary",onClick:e.navigate("vote"),children:Object(w.jsx)("span",{className:"navbar-button",children:"Vote"})}),"\xa0\xa0\xa0",Object(w.jsx)(O.a,{size:"large",variant:"contained",color:"primary",onClick:e.navigate("ranking"),children:Object(w.jsx)("span",{className:"navbar-button",children:"Ranking"})}),"\xa0\xa0\xa0",Object(w.jsx)(M,{navigate:e.navigate}),Object(w.jsx)(O.a,{size:"large",variant:"contained",color:"secondary",onClick:e.connect,disabled:Boolean(e.address),children:Object(w.jsxs)("span",{className:"navbar-button",children:[e.address?"".concat(e.address.slice(0,6),"..."):"Connect","\xa0",Object(w.jsx)(k,{data:e.ownedRunners,size:28})]})})]})]})},R=n(16),S="------------------------------------------",A=function(e){return Object(w.jsxs)("div",{className:"runner-panel-result",children:[e.result.address," ",Object(w.jsx)("br",{}),e.result.time," ",Object(w.jsx)("br",{}),e.result.runner1," - ",e.result.runner2,Object(w.jsx)("br",{}),(t=e.result.result,0===t?"0 - 0":1===t?"1 - 0":2===t?"0 - 1":void 0)," ",Object(w.jsx)("br",{}),S]});var t},I=function(e){var t=function(e){try{return e?e.map((function(e){return e})):[]}catch(t){return[]}}(e.history);return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)("span",{className:"my-green",children:Object(w.jsxs)("b",{children:["Votes: ",t.length]})}),Object(w.jsx)("br",{}),S,Object(w.jsx)("br",{}),t.map((function(e,t){return Object(w.jsx)(A,{result:e},t)}))]})},C=function(e){return Object(w.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:e.runner?e.runner.text:""})},E=function(e){var t=Object(i.useState)("lore"),n=Object(R.a)(t,2),a=n[0],r=n[1],o=Object(i.useState)(void 0),u=Object(R.a)(o,2),p=u[0],l=u[1],c=Object(i.useState)([]),d=Object(R.a)(c,2),y=d[0],m=d[1];Object(i.useEffect)((function(){if(null!==e.runner){fetch("lore/".concat(e.runner.id,".json"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e)})).catch((function(e){console.error("Error:",e)})),"view"===e.mode&&fetch("".concat("","/runner_history/").concat(e.runner.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){m(e)})).catch((function(e){console.error("Error:",e)}))}}),[e.mode,e.runner]);return Object(w.jsxs)("div",{className:"runner-panel "+(e.isWinner?"runner-panel-winner":e.isLoser?"runner-panel-loser":"runner-panel-draw"),children:[Object(w.jsx)("div",{className:"panel-title",children:p?"#".concat(p.ids.join("+")):"Loading..."}),Object(w.jsx)("div",{className:"runner-panel-name",children:p?p.name:""}),Object(w.jsx)("div",{className:"runner-panel-avatar",children:Object(w.jsx)(k,{data:p?p.ids:[],size:100})}),Object(w.jsx)("div",{className:"runner-panel-text",children:"lore"===a?Object(w.jsx)(C,{runner:p}):Object(w.jsx)(I,{history:y})}),Object(w.jsx)("div",{className:"runner-panel-action",children:p?"vote"===e.mode?p?Object(w.jsxs)(O.a,{size:"large",variant:"contained",color:"primary",onClick:e.vote,style:{fontWeight:"bold"},disabled:e.voted,children:[p.name," WINS!"]}):null:"view"===e.mode?Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)(O.a,{size:"large",variant:"contained",color:"lore"===a?"primary":"default",onClick:function(){return r("lore")},style:{fontWeight:"bold"},children:"Lore"}),"\xa0\xa0\xa0",Object(w.jsx)(O.a,{size:"large",variant:"contained",color:"results"===a?"primary":"default",onClick:function(){return r("results")},style:{fontWeight:"bold"},children:"Results"})]}):void 0:null})]})};!function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.TWO=2]="TWO"}(a||(a={}));var F=function(e){return Object(w.jsxs)(v.a,{container:!0,spacing:1,children:[Object(w.jsx)(v.a,{item:!0,lg:5,sm:12,children:Object(w.jsx)(E,{runner:e.runner1,mode:"vote",vote:e.vote(a.ONE),voted:e.voted,isWinner:1===e.winner,isLoser:2===e.winner})}),Object(w.jsxs)(v.a,{item:!0,lg:2,sm:12,style:{textAlign:"center",paddingTop:"150px"},children:[function(){if(!e.voted)return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)("img",{src:"versus.png",alt:"versus",width:"200px",height:"200px"}),Object(w.jsx)("br",{}),Object(w.jsx)(O.a,{size:"large",variant:"contained",style:{fontWeight:"bold"},onClick:e.vote(a.ZERO),children:"DRAW!"})]});switch(e.winner){case 0:return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)("img",{src:"draw.png",alt:"draw",className:"vote-img-result"}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"vote-txt-result",children:"0 - 0"})]});case 1:return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)("img",{src:"winner_left.png",alt:"win",className:"vote-img-result"}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"vote-txt-result",children:"1 - 0"})]});case 2:return Object(w.jsxs)(s.a.Fragment,{children:[Object(w.jsx)("img",{src:"winner_right.png",alt:"win",className:"vote-img-result"}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"vote-txt-result",children:"0 - 1"})]});default:return null}}(),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),e.voted?Object(w.jsx)(O.a,{size:"large",variant:"contained",style:{fontWeight:"bold"},onClick:e.next,children:"NEXT MATCH!"}):null]}),Object(w.jsx)(v.a,{item:!0,lg:5,sm:12,children:Object(w.jsx)(E,{runner:e.runner2,mode:"vote",vote:e.vote(a.TWO),voted:e.voted,isWinner:2===e.winner,isLoser:1===e.winner})})]})},_=n(67),L=n.n(_),z=n(66),U=n.n(z),W=function(e){var t=e.page,n=e.numPages,a=e.back,i=e.next;return Object(w.jsxs)("div",{style:{display:"flex"},children:[Object(w.jsx)("div",{children:Object(w.jsx)(O.a,{color:"inherit",disabled:0===t,onClick:a,children:Object(w.jsx)(U.a,{})})}),Object(w.jsxs)("div",{style:{textAlign:"center"},children:["Page",Object(w.jsx)("br",{}),t+1," / ",n]}),Object(w.jsx)("div",{children:Object(w.jsx)(O.a,{color:"inherit",disabled:t===n-1,onClick:i,children:Object(w.jsx)(L.a,{})})})]})},P=function(e){var t=e.item,n=e.runnerClicked;return Object(w.jsxs)("tr",{className:"ranking-table-row",onClick:n(t),children:[Object(w.jsxs)("td",{align:"right",className:"ranking-table-important",children:["#",t.rank]}),Object(w.jsx)("td",{align:"center",children:Object(w.jsx)(k,{data:t.nfts,size:36})}),Object(w.jsx)("td",{align:"left",children:Object(w.jsx)("b",{children:t.name})}),Object(w.jsx)("td",{align:"center",children:t.rating}),Object(w.jsx)("td",{align:"center",children:t.won}),Object(w.jsx)("td",{align:"center",children:t.draw}),Object(w.jsx)("td",{align:"center",children:t.lost})]},t.id)},B=function(e){var t=e.data,n=e.page,a=e.runnerClicked;if(!t)return null;var i=10*n,s=i+10;s>t.length&&(s=t.length);var r=t.slice(i,s);return Object(w.jsxs)("table",{style:{width:"100%"},children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{style:{lineHeight:"20px"},children:[Object(w.jsx)("th",{align:"right",children:" "}),Object(w.jsx)("th",{align:"center",children:" "}),Object(w.jsx)("th",{align:"left",children:" "}),Object(w.jsx)("th",{align:"center",children:"Rating"}),Object(w.jsx)("th",{align:"center",children:"Won"}),Object(w.jsx)("th",{align:"center",children:"Draw"}),Object(w.jsx)("th",{align:"center",children:"Lost"})]})}),Object(w.jsx)("tbody",{children:r.map((function(e,t){return Object(w.jsx)(P,{item:e,runnerClicked:a},t)}))})]})},D=function(e){var t=Object(i.useState)(0),n=Object(R.a)(t,2),a=n[0],s=n[1],r=Object(i.useState)(0),o=Object(R.a)(r,2),u=o[0],p=o[1];Object(i.useEffect)((function(){if(e.data){var t=e.data.length;p(Math.ceil(t/10))}else p(0);s(0)}),[e.data]);return Object(w.jsxs)("div",{className:"ranking-panel",children:[Object(w.jsx)("div",{className:"panel-title",children:"Ranking"}),Object(w.jsx)("div",{className:"ranking-panel-table",children:Object(w.jsx)(B,{data:e.data,runnerClicked:e.runnerClicked,page:a})}),Object(w.jsxs)("div",{className:"ranking-panel-info",children:["Last updated:"," ",Object(w.jsx)("span",{className:"my-green",children:Object(w.jsx)("strong",{children:e.lastUpdateTimestamp})}),Object(w.jsx)("br",{}),"(Rating system uses ELO algorithm with the same parameters as MegaCity's Chess Organization)"]}),Object(w.jsx)("div",{className:"ranking-panel-action",children:e.data&&Object(w.jsx)(W,{numPages:u,page:a,back:function(){a>0&&s(a-1)},next:function(){a<u-1&&s(a+1)}})})]})},G=function(e){return Object(w.jsx)("div",{className:"about-panel",children:Object(w.jsxs)("div",{className:"about-panel-text",children:[Object(w.jsx)("span",{className:"my-green",children:Object(w.jsx)("b",{children:"About: "})}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"If you'd like to support our work, please mint a piece of our collection at ",Object(w.jsx)("a",{target:"blank",href:"https://www.the23.wtf",className:"my-green",children:"the23.wtf"}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"It's a collection of ",Object(w.jsx)("a",{target:"blank",href:"https://twitter.com/the100pieces",className:"my-green",children:"100 pieces of shit"})," to record crypto events and hack the planet."]})})},Z=function(e){var t=Object(i.useState)(null),n=Object(R.a)(t,2),a=n[0],s=n[1];return Object(w.jsxs)(v.a,{container:!0,spacing:1,children:[Object(w.jsx)(v.a,{item:!0,lg:7,sm:12,children:Object(w.jsx)(D,{data:e.data,lastUpdateTimestamp:e.lastUpdateTimestamp,runnerClicked:function(e){return function(){s(e)}}})}),Object(w.jsx)(v.a,{item:!0,lg:5,sm:12,children:a?Object(w.jsx)(E,{runner:a,mode:"view"}):""}),Object(w.jsx)(v.a,{item:!0,lg:12,sm:12,children:Object(w.jsx)(G,{})})]})},H={cubitus:"Cubot",modern:"Modbot",liquid:"Lavabot",dark:"Darkbot",geom:"Epsibot",manga:"Mangabot"},V=function(){var e=Object(i.useState)(null),t=Object(R.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(null),r=Object(R.a)(s,2),o=r[0],u=r[1],p=Object(i.useState)(null),l=Object(R.a)(p,2),c=l[0],d=l[1],y=Object(i.useState)(""),m=Object(R.a)(y,2),b=m[0],j=m[1],h=Object(i.useState)("cubitus"),g=Object(R.a)(h,2),x=g[0],T=g[1],k=Object(i.useState)(!1),M=Object(R.a)(k,2),N=M[0],S=M[1],A=function(){if(!N){var e="".concat(f).concat(c,".png"),t=document.getElementById("originalimage");if(!t)return console.error("Couldn't find #originalimage in the document");var n=t.getContext("2d");if(!n)return console.error("Couldn't get 2d context");var i=new Image;i.src=e,i.onload=function(){var e=t.width/i.width,s=t.height/i.height,r=Math.min(e,s);n.drawImage(i,0,0,i.width,i.height,0,0,i.width*r,i.height*r);var o=t.toDataURL();a(o)}}},I=function(){var e=document.getElementById("stylize-canvas");S(!1),e&&u(e.toDataURL())};return Object(w.jsxs)(v.a,{container:!0,spacing:1,children:[Object(w.jsx)(v.a,{item:!0,lg:6,sm:12,children:Object(w.jsxs)("div",{className:"deep-style-panel",children:[Object(w.jsx)("div",{className:"deep-style-panel-title",children:"Runner"}),Object(w.jsxs)("div",{className:"deep-style-panel-inputs",children:[Object(w.jsx)("label",{children:"Runner #"}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"text",style:{height:"20px",width:"260px",color:"darkblue"},value:b,onChange:function(e){j(e.target.value)}}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{style:{textAlign:"center",marginTop:"10px"},children:Object(w.jsx)(O.a,{size:"small",variant:"contained",onClick:function(){var e=parseInt(b);null===e||isNaN(e)?alert("Please input a valid runner #"):(d(e),A())},disabled:N,children:"Select"})})]}),Object(w.jsx)("div",{className:"deep-style-panel-main",children:Object(w.jsx)("div",{style:{width:"250px",height:"250px",padding:0,marginInline:"auto"},children:Object(w.jsx)("canvas",{id:"originalimage",width:"250",height:"250"})})})]})}),Object(w.jsx)(v.a,{item:!0,lg:6,sm:12,children:Object(w.jsxs)("div",{className:"deep-style-panel",children:[Object(w.jsx)("div",{className:"deep-style-panel-title",children:"Style"}),Object(w.jsxs)("div",{className:"deep-style-panel-inputs",children:[Object(w.jsx)("label",{children:"AI Style"}),Object(w.jsx)("br",{}),Object(w.jsx)("select",{style:{width:"260px",color:"darkblue"},value:x,onChange:function(e){T(e.target.value)},children:Object.keys(H).map((function(e){return Object(w.jsx)("option",{value:e,children:H[e]},e)}))}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{style:{textAlign:"center",marginTop:"10px"},children:Object(w.jsx)(O.a,{size:"small",variant:"contained",onClick:function(){if(!N){if(!n)return alert("Please load your runner image first.");S(!0),u(null),window.TF_GLOBAL_POINTER.callback=I,window.stylize(n,x)}},disabled:N,children:"GO"})})]}),Object(w.jsx)("div",{className:"deep-style-panel-main",children:o&&Object(w.jsx)("img",{src:o,width:"250",height:"250",alt:"styled"})}),Object(w.jsx)("div",{className:"deep-style-panel-footer",children:N&&"This can sometimes take a while, please be patient."})]})}),Object(w.jsx)(v.a,{item:!0,lg:12,sm:12,children:Object(w.jsx)(G,{})})]})},J=Object(y.a)({typography:{fontFamily:"Monospace"},palette:{primary:b.a}}),q=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).contractChainRunners=void 0,a.contractThe23=void 0,a.provider=void 0,a.signer=void 0,a.componentDidMount=function(){a.checkFirefox(),a.loadRanking(),a.loadLastUpdateTimestamp()},a.checkFirefox=function(){var e={isFirefox:navigator.userAgent.search("Firefox")>-1};a.setState(e)},a.connect=function(){var e={address:void 0,nonce:Date.now(),signature:void 0,numOwnedRunners:0,ownedRunners:[],lookupOwners:!0};a.setState(e,a.doConnect)},a.doConnect=function(){var e=Object(l.a)(a);a.provider=new h.a.providers.Web3Provider(window.ethereum,"any"),a.provider=new h.a.providers.Web3Provider(window.ethereum,"any"),a.provider.send("eth_requestAccounts",[]).then((function(){e.provider&&(e.signer=e.provider.getSigner(),e.signer.getAddress().then((function(t){e.contractChainRunners=new h.a.Contract("0x97597002980134beA46250Aa0510C9B90d87A587",x,e.signer),e.contractThe23=new h.a.Contract("0x6A2571dA2307818c293912A71393203549ab5A0c",T,e.signer),e.setState({address:t},e.oneTimeSignature)})).catch((function(e){console.error(e)})))}))},a.oneTimeSignature=function(){if(a.signer){var e=Object(l.a)(a),t="Hi, I'd like to login into datascience.art\nTimestamp: ".concat(a.state.nonce);a.signer.signMessage(t).then((function(t){e.setState({signature:t}),e.loadOwnedRunners()})).catch((function(e){console.error(e)}))}},a.loadOwnedRunners=function(){if(a.state.lookupOwners&&a.contractChainRunners){var e=Object(l.a)(a);a.state.lookupOwners&&a.contractChainRunners.tokenOfOwnerByIndex(e.state.address,e.state.numOwnedRunners).then((function(t){t=parseInt(t),console.log("tokenOfOwnerByIndex returned "+t);var n={numOwnedRunners:e.state.numOwnedRunners+1,ownedRunners:e.state.ownedRunners.concat(t)};e.setState(n,e.loadOwnedRunners)})).catch((function(t){console.log("tokenOfOwnerByIndex returned none"),e.setState({lookupOwners:!1})}))}},a.loadRanking=function(){var e=Object(l.a)(a);fetch("/ranking",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.receiveRanking(t)})).catch((function(e){console.error("Error:",e)}))},a.loadLastUpdateTimestamp=function(){var e=Object(l.a)(a);fetch("/last_update_timestamp",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({lastUpdateTimestamp:t})})).catch((function(e){console.error("Error:",e)}))},a.receiveRanking=function(e){e.sort((function(e,t){return t.rating-e.rating}));for(var t=0,n=null,i=0;i<e.length;i++)(null===n||n>e[i].rating)&&t++,e[i].rank=t,n=e[i].rating;a.setState({ranking:e},a.pickRunners)},a.pickRunners=function(){if(null!=a.state.ranking){var e=function(e){var t=e.length,n=Math.floor(Math.random()*t),a=Math.random()>.5?1:-1,i=Math.floor(100*Math.random()),s=Math.abs(n+a*i)%t;return n===s&&(s=(n+a)%t),{random1:n,random2:s}}(a.state.ranking),t=e.random1,n=e.random2,i={voted:!1,winner:0,runner1:a.state.ranking[t],runner2:a.state.ranking[n]};a.setState(i)}},a.navigate=function(e){return function(){"style"!==e||a.state.isFirefox?a.setState({page:e}):alert("Sorry, this feature only works on Firefox.")}},a.vote=function(e){return function(){if(a.state.runner1&&a.state.runner2){var t=Object(l.a)(a),n=a.state,i=n.address,s=n.nonce,r=n.signature,o=n.numOwnedRunners;if(null!=i&&null!=r&&null!=s&&0!==o){var u={runner1:a.state.runner1.id,runner2:a.state.runner2.id,result:e,address:i,nonce:s,signature:r};fetch("/submit_vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(n){t.voted(e,n)})).catch((function(e){console.error("Error:",e)}))}else alert("Sorry, you can only vote after connecting your wallet, and you need to own at least one chain runner.")}}},a.voted=function(e,t){"ok"===t.status?a.setState({voted:!0,winner:e}):console.error(t.status)},a.state={page:"vote",ranking:void 0,lastUpdateTimestamp:void 0,runner1:void 0,runner2:void 0,voted:!1,winner:0,address:void 0,nonce:Date.now(),signature:void 0,numOwnedRunners:0,ownedRunners:[],lookupOwners:!0,isFirefox:!1},a}return Object(p.a)(n,[{key:"renderPage",value:function(){switch(this.state.page){case"vote":return this.state.runner1&&this.state.runner2?Object(w.jsx)(F,{runner1:this.state.runner1,runner2:this.state.runner2,vote:this.vote,voted:this.state.voted,winner:this.state.winner,next:this.pickRunners}):Object(w.jsx)(s.a.Fragment,{});case"ranking":return Object(w.jsx)(Z,{data:this.state.ranking,lastUpdateTimestamp:this.state.lastUpdateTimestamp});case"style":return Object(w.jsx)(V,{})}}},{key:"render",value:function(){return Object(w.jsx)(m.a,{theme:J,children:Object(w.jsxs)("div",{children:[Object(w.jsx)(N,{navigate:this.navigate,address:this.state.address,connect:this.connect,ownedRunners:this.state.ownedRunners}),Object(w.jsx)(j.a,{style:{marginTop:"25px"},children:this.renderPage()})]})})}}]),n}(i.Component);o.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(q,{})}),document.getElementById("root"))},88:function(e,t){},97:function(e,t){}},[[100,1,2]]]);
//# sourceMappingURL=main.cfe4b373.chunk.js.map